# [11660] 구간 합 구하기 5

## 문제 요약
NxN 크기의 표에 숫자가 채워져 있다. (x1,y1)부터 (x2,y2)까지의 부분합을 구하는 프로그램을 작성하라.

## 풀이 핵심
- (1,1)~(i,j)까지의 누적합을 미리 dp 배열에 저장한다.
- 쿼리 처리 시 포함-배제 원리를 이용해 원하는 직사각형 합을 구한다.
- 점화식:
```cpp
  // 누적합 점화식
  dp[i][j] = tmp + dp[i-1][j] + dp[i][j-1] - dp[i-1][j-1];

  // (x1,y1)~(x2,y2) 사각형 점화식
  dp[x2][y2] - dp[x1-1][y2] - dp[x2][y1-1] + dp[x1-1][y1-1];
```

## 시행착오 & 개선
- 입력/출력이 매우 많아 기본 cin/cout만 사용하면 시간초과가 발생했다.
- 이를 해결하기 위해 `ios::sync_with_stdio(false)`로 C/C++ 입출력 동기화를 끊고, `cin.tie(nullptr)`로 불필요한 flush를 방지해 속도를 개선했다.

## 느낀 점
- 처음에는 주어진 구간의 사각형에 속하는 누적합을 어떻게 구할지 막막했는데 그림을 그려서 접근하니까 생각했던 난이도 보다 쉽게 풀 수 있었다.
- 문제를 풀면서 `ios::sync_with_stdio(false)`와 `cin.tie(nullptr)`을 처음 사용해봤는데, 코드 수행 시간이 차이가 생각보다 많이 나서 놀랐다.